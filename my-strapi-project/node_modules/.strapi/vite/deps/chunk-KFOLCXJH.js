import {
  ForwardRef$2x
} from "./chunk-CWW6QNOJ.js";

// node_modules/@strapi/plugin-documentation/dist/_chunks/index-YnqsO7ap.mjs
var __variableDynamicImportRuntimeHelper = (glob, path, segs) => {
  const v = glob[path];
  if (v) {
    return typeof v === "function" ? v() : Promise.resolve(v);
  }
  return new Promise((_, reject) => {
    (typeof queueMicrotask === "function" ? queueMicrotask : setTimeout)(
      reject.bind(
        null,
        new Error(
          "Unknown variable dynamic import: " + path + (path.split("/").length !== segs ? ". Note that variables only represent file names one level deep." : "")
        )
      )
    );
  });
};
var PERMISSIONS = {
  // This permission regards the main component (App) and is used to tell
  // If the plugin link should be displayed in the menu
  // And also if the plugin is accessible. This use case is found when a user types the url of the
  // plugin directly in the browser
  main: [
    { action: "plugin::documentation.read", subject: null },
    { action: "plugin::documentation.settings.regenerate", subject: null },
    { action: "plugin::documentation.settings.update", subject: null }
  ],
  open: [
    { action: "plugin::documentation.read", subject: null },
    { action: "plugin::documentation.settings.regenerate", subject: null }
  ],
  regenerate: [{ action: "plugin::documentation.settings.regenerate", subject: null }],
  update: [{ action: "plugin::documentation.settings.update", subject: null }]
};
var pluginId = "documentation";
var prefixPluginTranslations = (trad, pluginId2) => {
  return Object.keys(trad).reduce(
    (acc, current) => {
      acc[`${pluginId2}.${current}`] = trad[current];
      return acc;
    },
    {}
  );
};
var index = {
  register(app) {
    app.addMenuLink({
      to: `plugins/${pluginId}`,
      icon: ForwardRef$2x,
      intlLabel: {
        id: `${pluginId}.plugin.name`,
        defaultMessage: "Documentation"
      },
      permissions: PERMISSIONS.main,
      Component: async () => {
        const { App } = await import("./App-D3sYdNAh-3AZOBZRU.js");
        return App;
      },
      position: 9
    });
    app.registerPlugin({
      id: pluginId,
      name: pluginId
    });
  },
  bootstrap(app) {
    app.addSettingsLink("global", {
      intlLabel: {
        id: `${pluginId}.plugin.name`,
        defaultMessage: "Documentation"
      },
      id: "documentation",
      to: pluginId,
      Component: async () => {
        const { SettingsPage } = await import("./Settings-DiK51xGj-Z2YHNS5K.js");
        return SettingsPage;
      },
      permissions: PERMISSIONS.main
    });
  },
  async registerTrads({ locales }) {
    const importedTrads = await Promise.all(
      locales.map((locale) => {
        return __variableDynamicImportRuntimeHelper(Object.assign({ "./translations/ar.json": () => import("./ar-ckp9T43y-IYAHOQZP.js"), "./translations/cs.json": () => import("./cs-ciLYCxgd-QYWZYQQM.js"), "./translations/de.json": () => import("./de-DqkAUMvP-UU6D5L5W.js"), "./translations/dk.json": () => import("./dk-DgCq8mF--H6IDH4EC.js"), "./translations/en.json": () => import("./en-BQ_E53_2-OODTWM5B.js"), "./translations/es.json": () => import("./es-CEiXVnsb-XFXBP4GH.js"), "./translations/fr.json": () => import("./fr-BlX-v4UF-4VKFRNVU.js"), "./translations/id.json": () => import("./id-CPOl6_EU-OGJGUD6P.js"), "./translations/it.json": () => import("./it-DWJI563z-6VTPNSJF.js"), "./translations/ko.json": () => import("./ko-CFzSHayG-S2R7CID3.js"), "./translations/ms.json": () => import("./ms-CUgPFo4U-Z5OTXXLI.js"), "./translations/nl.json": () => import("./nl-B_7CHwVD-E7YSWJBL.js"), "./translations/pl.json": () => import("./pl-DwLr8sw9-ZXTUSHVE.js"), "./translations/pt-BR.json": () => import("./pt-BR-MVXc6V9P-J24PBHZU.js"), "./translations/pt.json": () => import("./pt-C2N9fdeh-LDFCH6DU.js"), "./translations/ru.json": () => import("./ru-BddeNlU0-CL2N2TUB.js"), "./translations/sk.json": () => import("./sk-BmT4uZTG-7QXU5LPQ.js"), "./translations/sv.json": () => import("./sv-D_-KBtcw-MP66EJW4.js"), "./translations/th.json": () => import("./th-DkuoSGii-FLHPGUZL.js"), "./translations/tr.json": () => import("./tr-l-xxK4Yk-JPODURED.js"), "./translations/uk.json": () => import("./uk-Cpmsxyku-7O4ASNCN.js"), "./translations/vi.json": () => import("./vi-ClWGrFm9-NAUI3Y5N.js"), "./translations/zh-Hans.json": () => import("./zh-Hans-XLMwjASk-EAPCBQGX.js"), "./translations/zh.json": () => import("./zh-Glkg1L2g-G6ANPD6P.js") }), `./translations/${locale}.json`, 3).then(({ default: data }) => {
          return {
            data: prefixPluginTranslations(data, pluginId),
            locale
          };
        }).catch(() => {
          return {
            data: {},
            locale
          };
        });
      })
    );
    return Promise.resolve(importedTrads);
  }
};

export {
  PERMISSIONS,
  pluginId,
  index
};
//# sourceMappingURL=chunk-KFOLCXJH.js.map
